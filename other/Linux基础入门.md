# Linux基础

## Linux 基本命令

- 注意区分命令大小写；
- 使用tab键补全命令剩余部分；
- 使用帮助手册：`find --help/-h`
- 查看更多内容，例`ls --help |more`;
- 停止进程(强制）：`ctrl +c`;
- 退出当前用户：`ctrl +d`;
- 目录操作命令：
`ls`,`pwd`,`cd`,`mkdir`,`rmdir`
  - 切换至根目录：`cd`,`cd $home`,`cd~`
  - 当前目录：`.`；上一级目录：`..`
  - 删除目录：`rmdir`
- 文件操作命令：
  - 拷贝文件：`cp -R 源文件 目标地址`,-R可以将整个文件夹拷贝到目标地址
  - 移动文件(重命名)：`mv 源文件 目标地址`
  - 查找文件：`find 文件名`
- 文件查看命令：
  - 查看文件（所有内容）：`cat`
  - 查看文件，从头开始：`head -20`,-20表示前20行内容；
  - 查看内容，从尾开始：`tail -20`,-20表示从尾20行开始
  - 实时监控日志信息：`tail -f /var/log/message`
- `echo`输出，`echo >test,log`覆盖原先的文件，`echo >>test.log`在原文件之后追加内容。
- `file`,查看文件类型
- `df`，显示磁盘使用量
- `df -h`，1024kb，查看磁盘情况
- `df -H`，1000kb，h表示humen readable 人性化表示内容，查看
- `du`计算机目录中文件占用磁盘大小
- `du -sh/root`s对参数显示总和，列出文件夹总共的大小，统计查看当前目录使用量，查看详细信息时：`du -sh *`
- `du sh/etc/password`
- `alias eric="ls-l-a"`,定义别名
- `vi ~/.bashrc`，定义个人的alias
- `vi /etc/bashrc`，定义全局的alias
- `unalias`，取消别名
- `unalias eric`
- `echo $LANG`，查看变量

## VI文本编辑器

- 直接进入编辑环境：`vi`;
- 进入编辑环境并打开（新建）文件：`vi filename`;
- 退出编辑环境：
  - 输入末行命令放弃对文件的修改，并退出编辑器：`:q!`;
  - 编辑文本后，输入末行命令并保存对文件的修改，并退出编辑器：`:wq!`.
- VI文本编辑器命令：
    命令    |功能
    --|---
    i|在当前光标处进入插入状态
    a|在当前光标后进入插入状态
    A|将光标移动到当前行的末行，并进入插入状态
    o|在当前行的下面插入新行，光标移动至新行行首，进入插入状态
    O|在当前行的上面插入新行，光标移动至新行行首，进入插入状态
    cw|删除当前光标到所在单词尾部的字符，并进入插入状态
    c$|删除当前光标到行尾的字符，并进入插入状态
    c^|删除当前光标之前（不包括光标上的字符）到首行的字符，并进入插入状态
    x|删除当前光标字符
- 光标移动：
    光标操作键|功能
    --|---
    h|向左移动光标
    l|向右移动光标
    k|向上移动光标
    j|向下移动光标
- 翻页：
    光标操作键|功能
    --|---
    ctrl+f|向下翻整页
    ctrl+b|向上翻整夜
    ctrl+u|向下翻半页
    ctrl+d|向上翻半页
- 快捷键：
    操作键  |功能
    --|---
    shift+^|将光标快速移动到本行的行首字符
    shift+$|将光标快速跳转到本行的行尾字符
    w|将光标快速跳转到当前光标所在位置的最后一个单词的首字母
    b|将光标快速跳到当前光标所在位置的前一个单词的首字母
    e|将光标快速跳转的当前光标所在位置的后一个单词尾字母
    方向键|进行上下左右方向的光标移动
    Home|快速定位光标到行首
    End|快速定位到光标行尾
    PageUp|进行文本上翻页
    PageDwon|进行文本下翻页
    Backspace|删除光标左侧字符
    Del|删除光标右侧字符
- 其他：
    命令    |功能
    --|---
    :set nu|在编辑器中显示行号
    :set nonu|取消编辑器中的行号显示
    1G/gg|跳转到文件的首行
    G|跳转到文件的末尾行
    #G|跳转到文件的第#行
    x|删除光标处的单个字符
    dd|删除光标所在行
    dw|删除当前字符到单词尾（包括空格）的所字符
    de|删除当前字符到单词尾（不包括空格）的所字符
    d$|删除当前字符到行尾的所有字符
    d^|删除当前字符到行首的所有字符
    J|删除光标所在行行尾的换行符，相当于合并当前行和下一行
    u|取消最近一次的操作，并恢复操作结果，可以多次使用u命令恢复已进行的多步操作
    U|取消对当前进行的所有操作
    ctrl+r|对使用u命令撤销的操作进行恢复
    yy|复制当前行整行的内容到vi缓冲区
    yw|复制当前光标到单词尾字符的内容到vi缓冲区
    y$|复制当前光标到行尾的内容到vi缓冲区
    y^|复制当前光标到行首的内容到vi缓冲区
    p|读取vi缓冲区中的内容，并粘贴到光标当前的位置（不覆盖内容）
- 搜索：
    命令    |功能
    --|---
    /word|从上而下在文佳中查找字符串“word”
    ?word|从下而上在文件中查找字符串“word”
    n|定位下一个匹配的被查找字符串
    N|定位上一个匹配的被查找字符串
    `:s/old/new`|将当前行中找到的第一个字符“old”串替换为“new”
    `:s/old/new/g`|将当前行中查找到的所有字符串“old”替换为“new”
    `:#,#s/old/new/g`|在行号“#，#”范围内替换所有的字符串“old”为“new”
    `:%s/old/new/g`|在整个文件范围内替换所有的字符串“old”为“new”
    `:/old/new/c`|在替换命令末尾加入c命令，将对每个替换动作提示用户进行确认

## Linux网络配置

1. ifconfig命令用于查看网络接口信息
    - 查看所有活动网络接口的信息：`/sbin/ifconfig`
    - 查看所有网络接口（包括非活动网络接口）的信息：`ifconfig -a`
    - 查看指定网络接口信息：`/ifconfig eth0`
2. 网络配置
    - 进入目录/etc/network/目录；
    - vi编辑器打开interfaces文件：
        - auto eth0
        - iface eth0 inet static #采取静态地址
        - address 192.168.0.111 #静态ip地址
        - netmask 255.255.255.0 #子网掩码
        - gateway 192.168.0.1 #网关
    - /etc/init.d/networking restart #重启
    - 配置DNS：
        - `cd /etc/resolvconf/resolv.conf.d/`
        - `vi base`
        - 编辑内容：
            >nameserver 192.168.68.2
            >nameserver 114.114.114.114
            >nameserver 202.106.196.115
            >nameserver 202.106.0.20
            >nameserver 115.115.115.115
            >nameserver 8.8.8.8

## Linux系统资源管理

- 显示进程信息
  - ps命令显示某时刻系统进程的状态信息
- 显示进程状态（简单显示当前控制台执行的进程）
  -top命令以全屏幕的方式显示系统中的进程状态，并定时刷新显示的内容
  - 可以通过top命令查看系统中进程的动态变化
- 显示系统进程树
  - postree命令以树的形式显示系统进程间的父子关系
  - ps -ax命令显示一个当前系统进程的列表，噶列表包括其他用户用有的进程
  - ps -au，显示当前控制台的进程
  - ps -auxf，查看进程之间的关系，表示父进程与子进程间的关系
  - ps -ef|grep"bin",显示所有进程，但格式不同
  - ps -aux，显示进程以及它们的所有者
  - ps aux|grep httpd
- 用k杀掉进程
  -kill -l，查看详细信息
  - kill -1 pid，让此程序重跑
  - kill -9 pid，杀掉当前进程
  - kill -15 pid，结束进程
  - 结束某个BASH程序的时候使用kill -9
  - 杀掉进程：killall named
- 相关信息
  - free，显示系统的物理内存和交换内存的总量，以及使用的、空闲的、共享的、在内核缓冲内和被缓存的内存数量
  - free -m 显示的信息以MB为单位：
  -lspci，属于硬件浏览器，显示所有PCI总线设备
  - lspci -v，显示详细信息
  - lspci -vv，显示更详细信息
  - 如果不知道系统网卡，显卡设备的制造商或型号，lspci查看查看信息
- 手工启动
  - 由用户输入命令，直接执行一个程序
  - 前台启动是普通的命令执行方式
  - 后台启动需要在命令尾加入“&”
- 把当前终端中运行的进程调入后台
  - 使用“ctrl+z”组合键可以将当前终端运行的进程调入后台并停止执行
  - bg使用当前转入后台程序继续运行
  - fg使当前转入后台程序变为前台运行
- 查看后台的进程
  - jobs命令用于查看当前终端中后台的所有进程的状态
- 终止正在执行的命令
  - 使用ctrl+c组合键可以强制结束当前终端中运行的命令
- 对文件和目录进行归档：`tar -cf filename.tar files/`
- 对文件和目录进行压缩归档：`tar -czf filename.tar.gz files/`,其中files为需要进行归档的文件或目录，`-czf`中，c表示建立归档，z表示对归档进行压缩，f用于指定建立的归档文件名
- tar命令可以实现对文件的归档、查看和恢复，可有效的实现对系统文件的备份和恢复
